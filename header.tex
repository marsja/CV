\usepackage{titling}
\usepackage{caption}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{lscape}
\usepackage{titlesec}
\usepackage[scaled=.90]{helvet}% Helvetica, served as a model for arial
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0.4pt}
\fancyfoot[CO,CE]{CV - Erik Marsja - Page \thepage \hspace{1pt} of \pageref{LastPage}}
\fancypagestyle{plain}{\pagestyle{fancy}}


%For displaying the table in landscape format
\newcommand{\blandscape}{\begin{landscape}}
\newcommand{\elandscape}{\end{landscape}}
\captionsetup[table]{labelformat=empty}

\newcommand\secbar {
    \tikz[baseline, trim left=3.2cm] 
    {
        \fill [white] (3cm,0.1ex) rectangle +(0.2cm,1.1ex);
        \draw [gray!95, fill=gray!80] (0cm,0.1ex) rectangle (3cm,1.1ex);        
    }
}
\newcommand\subsecbar {
    \tikz[baseline, trim left=0.15cm] 
    {
        \fill [white] (2cm,0.1ex) rectangle +(0.2cm,1.1ex);
        \fill [blue!40] (0cm,0.1ex) rectangle (2cm,1.1ex);      
    }
}

\newcommand\subsubsecbar {
    \tikz[baseline, trim left=0.15cm] 
    {
        \fill [white] (1cm,0.1ex) rectangle +(0.2cm,1.1ex);
        \fill [blue!40] (0cm,0.1ex) rectangle (2cm,1.1ex);      
    }
}

\titleformat{\section}{\large}{}{0cm}{\secbar}
\titleformat{\subsection}{\large}{}{0cm}{\normalfont\sffamily\Large\bfseries\subsecbar}
\titleformat{\subsubsection}{}{}{0cm}{\normalfont\sffamily\large\bfseries}

\def\changemargin#1#2{\list{}{\rightmargin#2\leftmargin#1}\item[]}
\let\endchangemargin=\endlist 
